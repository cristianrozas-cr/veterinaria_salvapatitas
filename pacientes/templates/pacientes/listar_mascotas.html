{% extends 'base.html' %}
{% block title %}Listado de Mascotas{% endblock %}
{% block content %}
<h2 class="mb-4">Pacientes Registrados</h2>

<!-- ✅ Tabla solo para pantallas medianas y grandes -->
<div class="table-responsive d-none d-md-block">
  <table class="table table-bordered align-middle">
    <thead class="table-dark">
      <tr>
        <th>Nombre</th>
        <th>Especie</th>
        <th>Raza</th>
        <th>Edad</th>
        <th>Sexo</th>
        <th>Dueño</th>
        <th>Teléfono</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      {% for mascota in mascotas %}
      <tr>
        <td>{{ mascota.nombre }}</td>
        <td>{{ mascota.especie }}</td>
        <td>{{ mascota.raza }}</td>
        <td>{{ mascota.edad }}</td>
        <td>{{ mascota.sexo }}</td>
        <td>{{ mascota.nombre_dueno }}</td>
        <td>{{ mascota.telefono_dueno }}</td>
        <td>
          <a href="{% url 'detalle_mascota' mascota.id %}" class="btn btn-info btn-sm">
            <i class="bi bi-eye"></i> Ver
          </a>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="8" class="text-center">No hay mascotas registradas.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<!-- ✅ Cards solo para pantallas pequeñas -->
<div class="d-md-none">
  <div class="row row-cols-1 g-3">
    {% for mascota in mascotas %}
    <div class="col">
      <div class="card shadow-sm">
        <div class="card-body">
          <h5 class="card-title">{{ mascota.nombre }}</h5>
          <p class="card-text mb-1"><strong>Especie:</strong> {{ mascota.especie }}</p>
          <p class="card-text mb-1"><strong>Raza:</strong> {{ mascota.raza }}</p>
          <p class="card-text mb-1"><strong>Edad:</strong> {{ mascota.edad }}</p>
          <p class="card-text mb-1"><strong>Sexo:</strong> {{ mascota.sexo }}</p>
          <p class="card-text mb-1"><strong>Dueño:</strong> {{ mascota.nombre_dueno }}</p>
          <p class="card-text mb-3"><strong>Teléfono:</strong> {{ mascota.telefono_dueno }}</p>
          <a href="{% url 'detalle_mascota' mascota.id %}" class="btn btn-info btn-sm w-100">
            <i class="bi bi-eye"></i> Ver Detalle
          </a>
        </div>
      </div>
    </div>
    {% empty %}
    <p class="text-center">No hay mascotas registradas.</p>
    {% endfor %}
  </div>
</div>

<a href="{% url 'registrar_mascota' %}" class="btn btn-primary mt-4">
  Registrar Nuevo Paciente
</a>
{% endblock %}